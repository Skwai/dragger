/*!
  * dragger
  * @version v1.0.0
  * @author Cameron Jensen
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Dragger=t()}(this,function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n={placeholderClassName:"placeholder",draggableSelector:null};return function(){function i(t){var l=t.element,o=t.opts,s=void 0===o?{}:o;if(e(this,i),!(l instanceof Node))throw Error("`element` is not an instance of `Node`");Object.assign(this,{element:l,opts:Object.assign({},n,s),handleElement:null,placeholderElement:null}),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.bindDraggableElements()}return t(i,[{key:"handleMouseUp",value:function(e){this.reset()}},{key:"handleMouseDown",value:function(e){var t=e.target;this.init(t)}},{key:"positionHandle",value:function(e){var t=e.clientX,n=e.clientY,i=this.placeholderElement,l=this.handleElement,o=this.element,s=o.getBoundingClientRect(),a=i.getBoundingClientRect(),h=function(){var e=t-a.width/2;return e<s.left?s.left:e>s.right-a.width?s.right-a.width:e}(),r=function(){var e=n-a.height;return e<s.top?s.top:e>s.bottom?s.bottom-a.height:e}();window.requestAnimationFrame(function(){Object.assign(l.style,{position:"absolute",width:a.width+"px",height:a.height+"px",left:h+"px",top:r+"px"})})}},{key:"init",value:function(e){var t=this.placeholderElement=e,n=this.handleElement=t.cloneNode(!0),i=t.getBoundingClientRect(),l=(i.left,i.top,i.width),o=i.height;t.parentNode.appendChild(n),t.classList.add(this.opts.placeholderClassName),Object.assign(n.style,{position:"absolute",width:l+"px",height:o+"px"})}},{key:"reset",value:function(){var e=this.handleElement,t=this.placeholderElement;e instanceof Node&&(t.classList.remove("placeholder"),this.placeholderElement=null,e.parentNode.removeChild(e),this.handleElement=null)}},{key:"handleMouseMove",value:function(e){var t=e.clientX,n=e.clientY;this.handleElement instanceof Node&&this.positionHandle({clientX:t,clientY:n})}},{key:"getDraggableElements",value:function(){return this.children?this.children:(this.children=this.opts.draggableSelector?this.element.querySelectorAll(this.opts.draggableSelector):this.element.children,this.children)}},{key:"bindDraggableElements",value:function(){var e=this,t=this.getDraggableElements();Array.from(t).forEach(function(t){var n=t.style.position;n&&"static"!==n||(t.style.position="relative"),t.addEventListener("mousedown",e.handleMouseDown),document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp)})}}]),i}()});
//# sourceMappingURL=index.min.js.map
