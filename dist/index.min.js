/*!
  * dragger
  * @version v1.0.0
  * @author Cameron Jensen
  * @license MIT
  */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Dragger=t()}(this,function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var l=t[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}}(),n={placeholderClassName:"placeholder",draggableSelector:null};return function(){function l(t){var o=t.element,i=t.opts,s=void 0===i?{}:i;if(e(this,l),!(o instanceof Node))throw Error("`element` is not an instance of `Node`");Object.assign(this,{element:o,opts:Object.assign({},n,s),handleElement:null,placeholderElement:null,placeholderPosition:{top:0,left:0}}),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.bindDraggableElements()}return t(l,[{key:"handleMouseUp",value:function(e){this.reset()}},{key:"handleMouseDown",value:function(e){var t=e.target;this.placeholderElement=t,this.placeholderElement.classList.add("placeholder");var n=t,l=document.importNode(n,!0);n.parentNode.appendChild(l);var o=t.getBoundingClientRect(),i=o.left,s=o.top,a=o.width,r=o.height;n.classList.add(this.opts.placeholderClassName),Object.assign(l.style,{position:"absolute",width:a+"px",height:r+"px"}),Object.assign(this.placeholderPosition,{left:i,top:s}),this.placeholderElement=n,this.handleElement=l}},{key:"positionHandle",value:function(e){var t=this,n=e.clientX,l=e.clientY;window.requestAnimationFrame(function(){var e=t.handleElement,o=t.placeholderPosition,i=o.left,s=o.top,a=n-i,r=l-s;Object.assign(e.style,{left:a+"px",top:r+"px"})})}},{key:"reset",value:function(){var e=this.handleElement,t=this.placeholderElement;e instanceof Node&&(t.classList.remove("placeholder"),this.placeholderElement=null,e.parentNode.removeChild(e),this.handleElement=null)}},{key:"handleMouseMove",value:function(e){var t=e.clientX,n=e.clientY;this.handleElement instanceof Node&&this.positionHandle({clientX:t,clientY:n})}},{key:"getDraggableElements",value:function(){return this.children?this.children:(this.children=this.opts.draggableSelector?this.element.querySelectorAll(this.opts.draggableSelector):this.element.children,this.children)}},{key:"bindDraggableElements",value:function(){var e=this,t=this.getDraggableElements();Array.from(t).forEach(function(t){var n=t.style.position;n&&"static"!==n||(t.style.position="relative"),t.addEventListener("mousedown",e.handleMouseDown),document.addEventListener("mousemove",e.handleMouseMove),document.addEventListener("mouseup",e.handleMouseUp)})}}]),l}()});
//# sourceMappingURL=index.min.js.map
